## TODO

1) Add a type attribute to AstNode to replace the typeid checking.
2) Better error handling.